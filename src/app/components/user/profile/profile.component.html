<div class="container">
  <!-- Register  -->
  <div class="col s12 m4 offset-m4" id="form">
    <div class="card-panel grey lighten-5">
      <!-- form  -->
      <form *ngIf="!isfetching" (ngSubmit)="onUpdate()" #form="ngForm">
        <div class="section">
          <img
            [src]="imageUrl"
            class="circle responsive-img right"
            style="width: 40%;"
            alt="Image on Aditya's Request"
          />
          <h5 class="text-flow">Profile</h5>

          <!-- user role -->
          <div class="teal-text">{{ userRole }}</div>
          <div>Name : {{ name }}</div>
          <div>Email: {{ userEmail }}</div>
          <div>Contact: {{ userContact }}</div>
        </div>

        <br />
        <div></div>
        <br />
        <br />
        <div class="section">
          <!--  Name  -->
          <div class="input-field">
            <input
              type="text"
              placeholder="Name"
              value="{{ name }}"
              name="name"
              id="name"
              [(ngModel)]="name"
              class="validate form-control"
              required
            />
          </div>

          <!-- Phone Number -->
          <div class="input-field">
            <input
              type="text"
              placeholder="Contact Number"
              value="{{ userContact }}"
              name="userContact"
              id="userContact"
              [(ngModel)]="userContact"
              class="validate form-control"
              required
            />
          </div>

          <!-- submit button  -->
          <input
            type="submit"
            value="Update"
            class="btn z-depth-2"
            [disabled]="!form.valid || !form.touched"
          />
        </div>
      </form>

      <div *ngIf="isfetching" class="progress">
        <div class="determinate" style="width: 70%"></div>
      </div>
      <div *ngIf="isUpdating" class="progress">
        <div class="determinate" style="width: 70%"></div>
      </div>

      <p *ngIf="fetchingerror" class="red-text">
        An Error Occurred
      </p>
      <p *ngIf="updatedSuccessfully" class="green-text">
        Updated Successfully!
      </p>
      <p *ngIf="updateFailed" class="red-text">
        Update Failed!
      </p>
    </div>

    <input
      [routerLink]="['/location']"
      type="button"
      id="loc"
      value="Update Address"
      class="btn z-depth-2 left"
    />

    <input
      [routerLink]="['/change-password']"
      type="button"
      value="Change Password"
      class="btn z-depth-2 right"
    />
  </div>
</div>
